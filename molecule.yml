---

molecule:
  test:
    sequence:
      - destroy
      - syntax
      - create
      - converge
      - verify

dependency:
  name: galaxy
  requirements_file: tests/requirements.yml

driver:
  name: vagrant

vagrant:
  # Comment raw_config_args to test trusty
  # raw_config_args:
  #   - "ssh.username = 'ubuntu'"

  platforms:
    # - name: xenial64
    #   box: xenial64
    #   box_url: https://s3.amazonaws.com/tech-only.dev.mnn.com/Vagrant/ncg-xenial.box

    - name: trusty64
      box: ubuntu/trusty64

  providers:
    - name: virtualbox
      type: virtualbox
      options:
        cpus: 2
        memory: 512

  instances:
    - name: mnn.django-01

ansible:
  playbook: tests/playbook.yml
  sudo: False
  diff: False

verifier:
  name: testinfra
